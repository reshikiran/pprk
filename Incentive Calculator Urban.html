<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incentive Calculator</title>
    <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f4;
      color: #333;
      margin: 20px;
    }

    h1 {
      text-align: center;
      color: #4caf50;
    }

    label {
      display: block;
      margin-bottom: 5px;
    }

    input, select {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
      box-sizing: border-box;
    }

    button {
      width: 100%;
      padding: 10px;
      background-color: #4caf50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

        button:hover {
            background-color: #45a049;
        }

        p {
            margin: 10px 0;
        }

        span {
            font-weight: bold;
            color: white;
            background-color: #6739B7;
            padding: 5px;
            border-radius: 5px;
            display: inline-block;
        }

        /* Style for the Results section */
        h2 {
            color: #6739B7;
        }

        #results {
            background-color: #6739B7;
            color: white;
            padding: 10px;
            border-radius: 10px;
            margin-top: 20px;
        }
    </style>
    <script>
        function calculateIncentive() {
            const date = parseFloat(document.getElementById("date").value) || 1;
            const agentType = parseInt(document.getElementById("agentType").value);
            const acqPoints = parseInt(document.getElementById("acqPoints").value) || 0;
            const ssdPoints = parseInt(document.getElementById("ssdPoints").value) || 0;
            const closuresPoints = parseInt(document.getElementById("closuresPoints").value) || 0;
            const m1Points = parseInt(document.getElementById("m1Points").value) || 0;
            const recoveryPoints = parseInt(document.getElementById("recoveryPoints").value) || 0;

            const r = 30 / date;

            let acqRequired = 0;
            if (agentType === 1) {
                acqRequired = acqPoints >= 30 ? 0 : 30 - acqPoints;
            }

            let ssdRequired = 0;
            if (agentType === 1) {
                ssdRequired = ssdPoints >= 40 ? 0 : 40 - closuresPoints;
            }

            let totalPoints = 0;
            if (agentType === 1) {
                if (r * acqPoints < 30 && r * ssdPoints < 40) {
                    totalPoints = 0;
                } else if (r * acqPoints >= 30 && r * ssdPoints >= 40) {
                    totalPoints = r * (acqPoints * 5 + ssdPoints * 10 + closuresPoints * 28 + m1Points * 4 + recoveryPoints * 5);
                }
            } else if (agentType === 2) {
                totalPoints = r * (acqPoints * 5 + ssdPoints * 10 + closuresPoints * 28 + m1Points * 4 + recoveryPoints * 5);
            }

            let totalIncentive = 0;
            if (agentType === 1) {
                if (totalPoints < 625) {
                    totalIncentive = 0;
                } else if (totalPoints < 725) {
                    totalIncentive = 6 * totalPoints;
                } else if (totalPoints < 925) {
                    totalIncentive = 8 * totalPoints;
                } else if (totalPoints < 1125) {
                    totalIncentive = 10 * totalPoints;
                } else if (totalPoints >= 1125) {
                    totalIncentive = 14 * totalPoints;
                }
            } else if (agentType === 2) {
                if (totalPoints < 225) {
                    totalIncentive = 0;
                } else if (totalPoints < 425) {
                    totalIncentive = 6 * totalPoints;
                } else if (totalPoints < 625) {
                    totalIncentive = 8 * totalPoints;
                } else if (totalPoints < 725) {
                    totalIncentive = 10 * totalPoints;
                } else if (totalPoints >= 725) {
                    totalIncentive = 14 * totalPoints;
                }
            }

            if (r * closuresPoints >= 8) {
                totalIncentive *= 1.3;
            }

            totalIncentive = Math.min(totalIncentive, 20000);

            document.getElementById("acqRequired").innerHTML = acqRequired;
            document.getElementById("ssdRequired").innerHTML = ssdRequired;
            document.getElementById("totalPoints").innerHTML = totalPoints.toFixed(2);
            document.getElementById("totalIncentive").innerHTML = totalIncentive.toFixed(2);
        }
    </script>
</head>
<body>

    <h1>Incentive Calculator</h1>

    <label for="date">Date (Eg: If current date is 10th November 2023, enter 10):</label>
    <input type="number" id="date" min="1" max="31" value="1" required><br>

    <label for="agentType">Agent Type:</label>
    <select id="agentType" required>
        <option value="1">Old Agent</option>
        <option value="2">New Agent</option>
    </select><br>

    <label for="acqPoints">Number of Valid Acquisitions till date (5 Points):</label>
    <input type="number" id="acqPoints" value="0" required><br>

    <label for="ssdPoints">Number of Valid SSD/PB Leads till date (10 Points):</label>
    <input type="number" id="ssdPoints" value="0" required><br>

    <label for="closuresPoints">Number of Valid Lending Agreement Closures(M0) till date (28 Points):</label>
    <input type="number" id="closuresPoints" value="0" required><br>

    <label for="m1Points">M1 on Agreement Closure (4 Points):</label>
    <input type="number" id="m1Points" value="0" required><br>

    <label for="recoveryPoints">Reactivation/Rental Recovery/Reverse Pick up till date (5 Points):</label>
    <input type="number" id="recoveryPoints" value="0" required><br>

    <button onclick="calculateIncentive()">Calculate</button>

    <h2>Results</h2>
    <div id="results">
        <p>Number of acquisitions required to achieve incentive gate (Old Agent): <span id="acqRequired"></span></p>
        <p>Number of SSD deployments required to achieve incentive gate (Old Agent): <span id="ssdRequired"></span></p>
        <p>Expected total points this month: <span id="totalPoints"></span></p>
        <p>Expected total incentive for this month (Rs.): <span id="totalIncentive"></span></p>
    </div>

</body>
</html>
